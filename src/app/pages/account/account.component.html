<app-header title="Account Settings"></app-header>
<div class="dashboard-content">
  <!-- <app-dashboard-test></app-dashboard-test>
  <app-servicenow-test></app-servicenow-test> -->
  <div class="main-grid-container">
    <div *ngIf="isLoading; else profileContent" class="skeleton-container">
      <div class="skeleton-photo"></div>
      <div class="skeleton-info">
        <div class="skeleton-line title"></div>
        <div class="skeleton-line short"></div>
        <div class="skeleton-line"></div>
        <div class="skeleton-line"></div>
        <div class="skeleton-line short"></div>
        <div class="skeleton-line"></div>
        <div class="skeleton-line"></div>
        <div class="skeleton-line short"></div>
        <div class="skeleton-line"></div>
        <div class="skeleton-line"></div>
      </div>
    </div>

    <ng-template #profileContent>
      <div class="profile-container" *ngIf="user">
        <div class="profile-photo">
          <img
            *ngIf="photoUrl; else noPhoto"
            [src]="photoUrl"
            alt="Foto de perfil"
          />
          <ng-template #noPhoto>
            <div class="placeholder-photo">Sin foto</div>
          </ng-template>
        </div>

        <div class="profile-info">
          <div class="account-title">
            <h2>{{ user.displayName || "Unamed" }}</h2>
            <div class="mail-container">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#024079ff"
              >
                <path
                  d="M146.67-160q-27 0-46.84-19.83Q80-199.67 80-226.67v-506.66q0-27 19.83-46.84Q119.67-800 146.67-800h666.66q27 0 46.84 19.83Q880-760.33 880-733.33v506.66q0 27-19.83 46.84Q840.33-160 813.33-160H146.67ZM480-454.67 146.67-670v443.33h666.66V-670L480-454.67Zm0-66.66 330.67-212H150l330 212ZM146.67-670v-63.33V-226.67-670Z"
                />
              </svg>
              <p class="highlight">
                <strong>Email:</strong> {{ user.mail || "Without main" }}
              </p>
            </div>
          </div>
          <!-- Grid -->
          <div class="items-grid">
            <div class="item item-1">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M480-480.67q-66 0-109.67-43.66Q326.67-568 326.67-634t43.66-109.67Q414-787.33 480-787.33t109.67 43.66Q633.33-700 633.33-634t-43.66 109.67Q546-480.67 480-480.67ZM160-160v-100q0-36.67 18.5-64.17T226.67-366q65.33-30.33 127.66-45.5 62.34-15.17 125.67-15.17t125.33 15.5q62 15.5 127.28 45.3 30.54 14.42 48.96 41.81Q800-296.67 800-260v100H160Zm66.67-66.67h506.66V-260q0-14.33-8.16-27-8.17-12.67-20.5-19-60.67-29.67-114.34-41.83Q536.67-360 480-360t-111 12.17Q314.67-335.67 254.67-306q-12.34 6.33-20.17 19-7.83 12.67-7.83 27v33.33ZM480-547.33q37 0 61.83-24.84Q566.67-597 566.67-634t-24.84-61.83Q517-720.67 480-720.67t-61.83 24.84Q393.33-671 393.33-634t24.84 61.83Q443-547.33 480-547.33Zm0-86.67Zm0 407.33Z"
                />
              </svg>
              <p>
                <strong>Username:</strong>
                {{ user.userPrincipalName || "Without user" }}
              </p>
            </div>
            <div class="item item-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M146.67-80q-27 0-46.84-19.83Q80-119.67 80-146.67v-466.66q0-27 19.83-46.84Q119.67-680 146.67-680H380v-133.33q0-27 19.83-46.84Q419.67-880 446.94-880h66.12q27.27 0 47.11 19.83Q580-840.33 580-813.33V-680h233.33q27 0 46.84 19.83Q880-640.33 880-613.33v466.66q0 27-19.83 46.84Q840.33-80 813.33-80H146.67Zm0-66.67h666.66v-466.66H580v20q0 29.66-19.83 48.16-19.84 18.5-47.11 18.5h-66.12q-27.27 0-47.11-18.5Q380-563.67 380-593.33v-20H146.67v466.66Zm88-98H474V-260q0-17.67-9.17-31.83Q455.67-306 440.67-312q-28-10.33-46.84-14.17Q375-330 356-330q-20.33 0-41.5 4.5T268.67-312q-15.67 6-24.84 20.17-9.16 14.16-9.16 31.83v15.33Zm330.66-64.66H732v-53.34H565.33v53.34ZM356-362.67q23.33 0 39.67-16.33Q412-395.33 412-418.67q0-23.33-16.33-39.66-16.34-16.34-39.67-16.34-23.33 0-39.67 16.34Q300-442 300-418.67q0 23.34 16.33 39.67 16.34 16.33 39.67 16.33Zm209.33-62H732V-478H565.33v53.33ZM446.67-593.33h66.66v-220h-66.66v220ZM480-380Z"
                />
              </svg>
              <p>
                <strong>Name:</strong> {{ user.givenName || "Without name" }}
                {{ user.surname || "" }}
              </p>
            </div>
            <div class="item item-3">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M573.33-446.67H760v-66.66H573.33v66.66Zm0-120H760v-66.66H573.33v66.66ZM200-320h320v-20q0-43-43-69.5T360-436q-74 0-117 26.5T200-340v20Zm159.95-169.33q31.05 0 53.22-22.12 22.16-22.11 22.16-53.16 0-31.06-22.11-53.22Q391.11-640 360.05-640q-31.05 0-53.22 22.11-22.16 22.12-22.16 53.17t22.11 53.22q22.11 22.17 53.17 22.17ZM146.67-160q-27 0-46.84-19.83Q80-199.67 80-226.67v-506.66q0-27 19.83-46.84Q119.67-800 146.67-800h666.66q27 0 46.84 19.83Q880-760.33 880-733.33v506.66q0 27-19.83 46.84Q840.33-160 813.33-160H146.67Zm0-66.67h666.66v-506.66H146.67v506.66Zm0 0v-506.66 506.66Z"
                />
              </svg>
              <p><strong>ID:</strong> {{ user.id || "Without ID" }}</p>
            </div>
            <div class="item item-4">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M146.67-120q-27 0-46.84-19.83Q80-159.67 80-186.67v-466.66q0-27 19.83-46.84Q119.67-720 146.67-720H320v-93.33q0-27 19.83-46.84Q359.67-880 386.67-880h186.66q27 0 46.84 19.83Q640-840.33 640-813.33V-720h173.33q27 0 46.84 19.83Q880-680.33 880-653.33v466.66q0 27-19.83 46.84Q840.33-120 813.33-120H146.67Zm0-66.67h666.66v-466.66H146.67v466.66Zm240-533.33h186.66v-93.33H386.67V-720Zm-240 533.33v-466.66 466.66Z"
                />
              </svg>
              <p>
                <strong>Position:</strong>
                {{ user.jobTitle || "Without user Position" }}
              </p>
            </div>
            <div class="item item-5">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M80-120v-720h393.33v163.33H880V-120H80Zm66.67-66.67h96.66v-96.66h-96.66v96.66Zm0-163.33h96.66v-96.67h-96.66V-350Zm0-163.33h96.66V-610h-96.66v96.67Zm0-163.34h96.66v-96.66h-96.66v96.66Zm163.33 490h96.67v-96.66H310v96.66ZM310-350h96.67v-96.67H310V-350Zm0-163.33h96.67V-610H310v96.67Zm0-163.34h96.67v-96.66H310v96.66Zm163.33 490h340V-610h-340v96.67h80v66.66h-80V-350h80v66.67h-80v96.66Zm176.67-260v-66.66h66.67v66.66H650Zm0 163.34V-350h66.67v66.67H650Z"
                />
              </svg>
              <p>
                <strong>Department:</strong>
                {{ user.department || "Without Department" }}
              </p>
            </div>
            <div class="item item-6">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M480.06-486.67q30.27 0 51.77-21.56 21.5-21.55 21.5-51.83 0-30.27-21.56-51.77-21.55-21.5-51.83-21.5-30.27 0-51.77 21.56-21.5 21.55-21.5 51.83 0 30.27 21.56 51.77 21.55 21.5 51.83 21.5ZM480-168q129.33-118 191.33-214.17 62-96.16 62-169.83 0-114.86-73.36-188.1-73.36-73.23-179.97-73.23T300.03-740.1q-73.36 73.24-73.36 188.1 0 73.67 63 169.83Q352.67-286 480-168Zm0 88Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"
                />
              </svg>
              <p>
                <strong>Office Location:</strong>
                {{ user.officeLocation || "Without office location" }}
              </p>
            </div>
            <div class="item item-7">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M120-120v-558.67h244.67v-88L480-880l115.33 113.33v252H840V-120H120Zm66.67-66.67H284V-284h-97.33v97.33Zm0-164H284V-448h-97.33v97.33Zm0-164H284V-612h-97.33v97.33Zm244.66 328h97.34V-284h-97.34v97.33Zm0-164h97.34V-448h-97.34v97.33Zm0-164h97.34V-612h-97.34v97.33Zm0-164h97.34V-776h-97.34v97.33Zm244.67 492h97.33V-284H676v97.33Zm0-164h97.33V-448H676v97.33Z"
                />
              </svg>
              <p><strong>City:</strong> {{ user.city || "Without city" }}</p>
            </div>
            <div class="item item-8">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="40px"
                viewBox="0 -960 960 960"
                width="40px"
                fill="#373737"
              >
                <path
                  d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-66.67L450.67-176q-6.67-6.67-9.34-13.95-2.66-7.29-2.66-15.61v-233.11q-34.38 0-58.86-24.28-24.48-24.28-24.48-58.38v-41.78L225-693.67q-37 44-57.67 98.1-20.66 54.11-20.66 115.49 0 139.41 96.87 236.41 96.88 97 236.46 97Zm41.33-2Q645.67-165 729.5-258.33q83.83-93.34 83.83-221.52 0-138.6-97.44-236.04-97.43-97.44-236.04-97.44-45.85 0-87.68 11.83-41.84 11.83-78.84 33.17V-688h147.92q18.75 0 35.92 8 17.16 8 28.83 23.33L584.25-584h62.42q17 0 29.16 12.17Q688-559.67 688-542.67v44.09q0 9.45-2.5 17.85-2.5 8.4-7.5 16.4l-156.67 234.4v81.26Z"
                />
              </svg>
              <p>
                <strong>Country:</strong>
                {{ user.country || "Without country" }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </ng-template>

    <div class="session-controlls-container">
      <h4>Logout</h4>
      <button (click)="logout()">Logout</button>
    </div>
  </div>
</div>
